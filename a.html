<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Button</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background: #f5f5f5;
        }

        .clarity-text {
            font-size: 48px;
            font-weight: bold;
            color: #333;
            margin: 40px 0;
            opacity: 0.1;
            filter: blur(5px);
            transition: all 0.5s ease-in-out;
            letter-spacing: 3px;
        }

        .clarity-button {
            background: #667eea;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 16px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .clarity-button:hover {
            background: #5a6fd8;
        }

        .clarity-button:active {
            transform: scale(0.98);
        }

        /* æ¸…æ™°åº¦ç­‰ç´š */
        .clarity-level-1 { opacity: 0.2; filter: blur(4px); }
        .clarity-level-2 { opacity: 0.3; filter: blur(3.5px); }
        .clarity-level-3 { opacity: 0.4; filter: blur(3px); }
        .clarity-level-4 { opacity: 0.5; filter: blur(2.5px); }
        .clarity-level-5 { opacity: 0.6; filter: blur(2px); }
        .clarity-level-6 { opacity: 0.7; filter: blur(1.5px); }
        .clarity-level-7 { opacity: 0.8; filter: blur(1px); }
        .clarity-level-8 { opacity: 0.9; filter: blur(0.5px); }
        .clarity-level-9 { opacity: 0.95; filter: blur(0.2px); }
        .clarity-level-10 { opacity: 1; filter: blur(0px); }
    </style>
</head>
<body>
    <div class="clarity-text" id="clarityText">
        411150870
    </div>

    <button class="clarity-button" id="clarityButton" onclick="improveClarity()">
        é»æ“Š
    </button>

    <script>
        let clickCount = 0;
        let clarityLevel = 0;
        const maxLevel = 10;
        const clicksPerLevel = 3; // æ¯3æ¬¡é»æ“Šæå‡ä¸€å€‹ç­‰ç´š

        function improveClarity() {
            clickCount++;
            
            // è¨ˆç®—æ–°çš„æ¸…æ™°åº¦ç­‰ç´š
            const newLevel = Math.min(Math.floor(clickCount / clicksPerLevel), maxLevel);
            
            if (newLevel > clarityLevel) {
                clarityLevel = newLevel;
                updateClarityDisplay();
                
                // å¦‚æœé”åˆ°æœ€é«˜ç­‰ç´šï¼Œæ’­æ”¾æ…¶ç¥å‹•ç•«
                if (clarityLevel === maxLevel) {
                    celebrateVictory();
                }
            }

            // æ›´æ–°çµ±è¨ˆæ•¸æ“š
            updateStats();
            
            // æŒ‰éˆ•å‹•ç•«
            animateButton();
        }

        function updateClarityDisplay() {
            const textElement = document.getElementById('clarityText');
            
            // ç§»é™¤æ‰€æœ‰æ¸…æ™°åº¦ç­‰ç´šé¡
            for (let i = 1; i <= maxLevel; i++) {
                textElement.classList.remove(`clarity-level-${i}`);
            }
            
            // æ·»åŠ ç•¶å‰ç­‰ç´šé¡
            if (clarityLevel > 0) {
                textElement.classList.add(`clarity-level-${clarityLevel}`);
            }
        }

        function updateStats() {
            document.getElementById('clickCount').textContent = clickCount;
            document.getElementById('clarityLevel').textContent = clarityLevel;
            
            const progress = Math.min((clarityLevel / maxLevel) * 100, 100);
            document.getElementById('progressPercent').textContent = Math.round(progress) + '%';
            document.getElementById('progressFill').style.width = progress + '%';
        }

        function animateButton() {
            const button = document.getElementById('clarityButton');
            button.style.transform = 'scale(0.95)';
            
            setTimeout(() => {
                button.style.transform = 'scale(1)';
            }, 100);
        }

        function celebrateVictory() {
            const container = document.querySelector('.container');
            const textElement = document.getElementById('clarityText');
            const button = document.getElementById('clarityButton');
            
            // æ’­æ”¾æ…¶ç¥å‹•ç•«
            container.classList.add('victory-animation');
            
            // æ›´æ”¹æŒ‰éˆ•æ–‡å­—
            button.innerHTML = 'ğŸ‰ æ­å–œå®Œæˆï¼';
            button.style.background = 'linear-gradient(45deg, #28a745, #20c997)';
            
            // é¡¯ç¤ºå®Œæˆè¨Šæ¯
            setTimeout(() => {
                alert('ğŸŠ æ­å–œï¼æ‚¨å·²ç¶“è®“æ•¸å­—å®Œå…¨æ¸…æ™°äº†ï¼\nç¸½å…±é»æ“Šäº† ' + clickCount + ' æ¬¡');
                container.classList.remove('victory-animation');
            }, 1000);
        }

        function resetClarity() {
            clickCount = 0;
            clarityLevel = 0;
            
            const textElement = document.getElementById('clarityText');
            const button = document.getElementById('clarityButton');
            
            // ç§»é™¤æ‰€æœ‰æ¸…æ™°åº¦ç­‰ç´šé¡
            for (let i = 1; i <= maxLevel; i++) {
                textElement.classList.remove(`clarity-level-${i}`);
            }
            
            // é‡ç½®æŒ‰éˆ•
            button.innerHTML = 'âœ¨ æå‡æ¸…æ™°åº¦';
            button.style.background = 'linear-gradient(45deg, #667eea, #764ba2)';
            
            // é‡ç½®çµ±è¨ˆ
            updateStats();
            
            // é¡¯ç¤ºé‡ç½®è¨Šæ¯
            setTimeout(() => {
                alert('ğŸ”„ å·²é‡ç½®ï¼é‡æ–°é–‹å§‹æŒ‘æˆ°å§ï¼');
            }, 100);
        }

        // éµç›¤æ”¯æ´
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Enter' || event.key === ' ') {
                improveClarity();
                event.preventDefault();
            } else if (event.key === 'r' || event.key === 'R') {
                resetClarity();
                event.preventDefault();
            }
        });

        // åˆå§‹åŒ–
        window.onload = function() {
            updateStats();
            
            // é¡¯ç¤ºæ­¡è¿è¨Šæ¯
            setTimeout(() => {
                alert('ğŸ¯ æ­¡è¿ä¾†åˆ°æ¸…æ™°åº¦æŒ‘æˆ°ï¼\n\nç›®æ¨™ï¼šé»æ“ŠæŒ‰éˆ•è®“æ¨¡ç³Šçš„æ•¸å­—è®Šæ¸…æ™°\næ¯ ' + clicksPerLevel + ' æ¬¡é»æ“Šæå‡ä¸€å€‹ç­‰ç´š\nå¿«æ·éµï¼šEnter/ç©ºæ ¼ - é»æ“Šï¼ŒR - é‡ç½®');
            }, 500);
        };
    </script>
</body>
</html>
