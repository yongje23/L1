<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Button</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background: #f5f5f5;
        }

        .clarity-text {
            font-size: 48px;
            font-weight: bold;
            color: #333;
            margin: 40px 0;
            opacity: 0.1;
            filter: blur(5px);
            transition: all 0.5s ease-in-out;
            letter-spacing: 3px;
        }

        .clarity-button {
            background: #667eea;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 16px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .clarity-button:hover {
            background: #5a6fd8;
        }

        .clarity-button:active {
            transform: scale(0.98);
        }

        /* 清晰度等級 */
        .clarity-level-1 { opacity: 0.2; filter: blur(4px); }
        .clarity-level-2 { opacity: 0.3; filter: blur(3.5px); }
        .clarity-level-3 { opacity: 0.4; filter: blur(3px); }
        .clarity-level-4 { opacity: 0.5; filter: blur(2.5px); }
        .clarity-level-5 { opacity: 0.6; filter: blur(2px); }
        .clarity-level-6 { opacity: 0.7; filter: blur(1.5px); }
        .clarity-level-7 { opacity: 0.8; filter: blur(1px); }
        .clarity-level-8 { opacity: 0.9; filter: blur(0.5px); }
        .clarity-level-9 { opacity: 0.95; filter: blur(0.2px); }
        .clarity-level-10 { opacity: 1; filter: blur(0px); }
    </style>
</head>
<body>
    <div class="clarity-text" id="clarityText">
        411150870
    </div>

    <button class="clarity-button" id="clarityButton" onclick="improveClarity()">
        點擊
    </button>

    <script>
        let clickCount = 0;
        let clarityLevel = 0;
        const maxLevel = 10;
        const clicksPerLevel = 3; // 每3次點擊提升一個等級

        function improveClarity() {
            clickCount++;
            
            // 計算新的清晰度等級
            const newLevel = Math.min(Math.floor(clickCount / clicksPerLevel), maxLevel);
            
            if (newLevel > clarityLevel) {
                clarityLevel = newLevel;
                updateClarityDisplay();
                
                // 如果達到最高等級，播放慶祝動畫
                if (clarityLevel === maxLevel) {
                    celebrateVictory();
                }
            }

            // 更新統計數據
            updateStats();
            
            // 按鈕動畫
            animateButton();
        }

        function updateClarityDisplay() {
            const textElement = document.getElementById('clarityText');
            
            // 移除所有清晰度等級類
            for (let i = 1; i <= maxLevel; i++) {
                textElement.classList.remove(`clarity-level-${i}`);
            }
            
            // 添加當前等級類
            if (clarityLevel > 0) {
                textElement.classList.add(`clarity-level-${clarityLevel}`);
            }
        }

        function updateStats() {
            document.getElementById('clickCount').textContent = clickCount;
            document.getElementById('clarityLevel').textContent = clarityLevel;
            
            const progress = Math.min((clarityLevel / maxLevel) * 100, 100);
            document.getElementById('progressPercent').textContent = Math.round(progress) + '%';
            document.getElementById('progressFill').style.width = progress + '%';
        }

        function animateButton() {
            const button = document.getElementById('clarityButton');
            button.style.transform = 'scale(0.95)';
            
            setTimeout(() => {
                button.style.transform = 'scale(1)';
            }, 100);
        }

        function celebrateVictory() {
            const container = document.querySelector('.container');
            const textElement = document.getElementById('clarityText');
            const button = document.getElementById('clarityButton');
            
            // 播放慶祝動畫
            container.classList.add('victory-animation');
            
            // 更改按鈕文字
            button.innerHTML = '🎉 恭喜完成！';
            button.style.background = 'linear-gradient(45deg, #28a745, #20c997)';
            
            // 顯示完成訊息
            setTimeout(() => {
                alert('🎊 恭喜！您已經讓數字完全清晰了！\n總共點擊了 ' + clickCount + ' 次');
                container.classList.remove('victory-animation');
            }, 1000);
        }

        function resetClarity() {
            clickCount = 0;
            clarityLevel = 0;
            
            const textElement = document.getElementById('clarityText');
            const button = document.getElementById('clarityButton');
            
            // 移除所有清晰度等級類
            for (let i = 1; i <= maxLevel; i++) {
                textElement.classList.remove(`clarity-level-${i}`);
            }
            
            // 重置按鈕
            button.innerHTML = '✨ 提升清晰度';
            button.style.background = 'linear-gradient(45deg, #667eea, #764ba2)';
            
            // 重置統計
            updateStats();
            
            // 顯示重置訊息
            setTimeout(() => {
                alert('🔄 已重置！重新開始挑戰吧！');
            }, 100);
        }

        // 鍵盤支援
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Enter' || event.key === ' ') {
                improveClarity();
                event.preventDefault();
            } else if (event.key === 'r' || event.key === 'R') {
                resetClarity();
                event.preventDefault();
            }
        });

        // 初始化
        window.onload = function() {
            updateStats();
            
            // 顯示歡迎訊息
            setTimeout(() => {
                alert('🎯 歡迎來到清晰度挑戰！\n\n目標：點擊按鈕讓模糊的數字變清晰\n每 ' + clicksPerLevel + ' 次點擊提升一個等級\n快捷鍵：Enter/空格 - 點擊，R - 重置');
            }, 500);
        };
    </script>
</body>
</html>
